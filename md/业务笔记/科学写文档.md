# 科学写文档

# 意愿

### 文档的作用

- 节省自己的时间，避免反复说
- 记下来，避免自己忘记；立字据，避免对方后来不认
- 避免口头沟通出现误解，耽误更多时间
- 方便多人、反复修改，可以提升思维水平

### 什么情况要写？

要为了自己的需求和痛点而写，不要为了完成任务而写。

如果文档能够节省整体工作量，提升交付水平，就写。

### 如何提升写文档的动力？

把文档整理在固定一处，不要分散在多个平台上（onedrive、桌面、wiki、论坛）。日积月累产生成就感。（跟写手账似的）

尽可能在日常工作中使用文档：自己照着文档做，让别人照着文档做。提升使用效率，产生成就感。

尽可能分享文档，增加点击率和外链，让别人夸夸你，提升成就感。

### 没有大块时间写

利用一早一晚时间，会议少，打扰少。

利用零碎时间想，利用零碎时间写。在通勤、等待的时候，就可以思考如何写。在日常工作中产生了想法，就可以记下来。

# 基本原则

### 分门别类

如果有多件事情，尽可能用编号或者分段把事情拆开。

不要像古文一样不分句、不分段。好几百字从头写到尾。

| 修改前                                                       | 修改后                                                       |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 点位包含幼儿园、小学、初中共计110个教室，摄像机每班一台共计110台。共六栋楼，每栋楼四层，每层双楼梯，每个楼梯一台摄像机，走廊过道长，每层走廊四台摄像机，一层共6台*4层=24台*6栋=144台+教室110台+室外21台共计275台 | 安防点位分布教室：幼儿园、小学、初中共计110个教室，摄像机每班一台。共计110台。楼梯：共六栋楼，每栋楼四层，每层双楼梯，每个楼梯一台摄像机。走廊：走廊过道长，每层走廊四台摄像机。室外：21台总计 = 教室(110)+楼梯走廊(6*4*(2+4))+室外(21) = 275 台 |

### 层次分明

如果事情分成多个层次，各个层次应该分明，不要相互混杂。

| 修改前                                                       | 修改后                                                       |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 目前的badcase测试方式分两种：跑demo或者是入库之后跑测试脚本。前者更快，但只适合跑少量数据，并且只支持CPU/GPU模型；后者更慢，但是支持大批量测试，且对于DV300等特殊硬件平台，支持将数据导入测试硬件后再跑测试脚本。跑Demo的话，测试时间一般少于半小时；跑测试脚本的话，取决于图片数量，在目标硬件空闲的情况下，测试时间一般不会超过半天。 | 目前的badcase测试方式分两种跑Demo更快，一般少于半小时只适合跑少量数据只支持CPU/GPU模型跑测试脚本更慢，具体速度取决于图片数量，在目标硬件空闲的情况下，测试时间一般不会超过半天支持大批量测试且对于DV300等特殊硬件平台，支持将数据导入测试硬件后再跑测试脚本 |

第一层次：两种测试方法

第二层次：三个比较方面。速度、数据量、支持的平台

### 重点突出

应该把结论、action、变化、警报等需要读者关注的重要信息等**明确地写出来。**

如果需要，以加粗、红色、高亮等形式予以标注。

### 说明属性

写作水平不高时，往往难以让读者理解你在讲什么，是论据、目的、背景、还是结论？

可以用”冒号“形式，说明每一段文字的属性，虽然丑但是有效。

| 修改前                                                       | 修改后                                                       |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 本周业务线提了一个badcase，但是没有底库只有7G数据，R侧没法验。客户说晚上测试原来164个人能过161人现在只能过147人。新模型已经测了模糊benchmark，精度挺好的。现在X同学在测旧模型，结果还没有。新模型之前没有反馈过模糊的问题。新模型变小了，可能是这个原因。 | 现状新版B模型比旧版A模型小30%业务线反馈某客户测试时，B模型比A模型在暗光模糊下精度明显降低A模型未监测模糊benchmark，无法与B模型的模糊benchmark结果比较风险分析：A模型与B模型相比，可能在模糊鲁棒性上有所下降action：由X同学补充A模型模糊benchmark测试结果。y月z日出结果。 |

### 以终为始

搞清文档的读者是谁，搞清他读文档的目的是什么。

针对读者的特定和目的来撰写。

后面会分别介绍不同目的的文档。

### 简洁

不要包含与目的无关的信息，以节省读者阅读成本。

# 常见文档写法

### 任务记录

读者：任务执行者，任务监督者

目的：让读者知道应该在何时达成何种目标

写法：应包含如下因素

- 执行人
- 完成时间
- 应达成的具体目标

难点/好处：强迫作者完整地规划任务。



### 经验指南

读者：未来的自己、新人、任务的后继者

目的：让读者在没有作者的情况下，能够尽可能重现作者的经验，能够花比作者更少的时间达成同样目的。

写法：

- 应具体地、按部就班、成体系地写。
- 不能预设读者知道很多知识。如果不在文档中说明，应尽量给出外部链接。
- 常见困难、已经趟过的坑应该给出解决方案，不要让后来者重复浪费时间。
- 可以自己尝试/找一个读者尝试，是否能跟着文档一步一步完成目标。

举例：标注项目需求写法指南

| 修改前                                                    | 修改后                                                       |
| :-------------------------------------------------------- | :----------------------------------------------------------- |
| 业务线应该说明算法需求。举例：（给出了5个业务线需求文档） | 业务线提出算法需求时，应说明交付时间：哪一天交付。对应产品：用于哪一款产品计算平台速度要求在哪个层级上测速？（裸模型、MegBrain、封装后单模型、封装后全流程）谁负责测速？测速流程如何？精度要求精度有哪些指标？如何计算？是否已拉齐计算脚本？精度在哪个benchmark上考核？...... |

例子不方便查看，每个例子都不一样，让人无所适从。

难点/好处：强迫作者对所介绍事情有深入、具体、成体系的思考。



### 申请

读者：需要给出答复的人

目的：让读者给出选择、许可

写法：牢记“沟通是为了激发反馈”

- 先搞清，我需要让对方做出何种决定。写在最前面或者最后面，高亮。
- 然后设想：对方在作出决定时，需要哪几方面的信息。我希望对方做出怎样的决定。
- 针对需要的信息来说明。在保证真实的基础上，尽可能提供能够促使此类答复的信息。
- 把自己想象成对方，根据文档中的信息，我能够做出决定吗？还缺什么？

举例：申请活体采集项目合并

| 修改前                                                       | 修改后                                                       |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 今年活体新增B、C两条业务线采集，加之A常规采集项目，当前KM场地告急。目前采集分散在5个地点，增加很多管理成本、打车成本，且不利于项目拼盘，降本增效。项目组希望在一个地点执行所有项目，降低管理成本，同时做成项目拼盘模式，降低项目获客成本。最近去SY周边查看了五六个场地，最后SY-FB一个800平两层楼+500平封闭院子性价比较高。 各个场地情况已整理wiki，请大家参阅：（此处详细列出了6个场地的室内面积、室内格局、室内光线、人员承载能力等12类信息，说明了每个场地的优点、缺点和综述） | 为降低活体采集成本，希望对各业务线现有场地进行合并。目前有以下两种方案方案1：能够满足A,B,C三条业务线当前提出的本年采集需求。A、B、C业务线需要分别一次性支付X1、Y1、Z1金额。比原有分散采集方案节约20%经费。方案2：能够满足A,B,C三条业务线当前提出的本年采集需求，且有10%-15%余量。A、B、C业务线需要分别一次性支付X2、Y2、Z2金额。比原有分散采集方案节约15%经费。 **请业务线负责人选择**：保持原有方案？选择方案1？选择方案2？ |

分析：

- 我希望对方三选一。我希望他选方案1或者方案2，不希望他保持原有方案。
- 为了做出决定，对方关心：是否能够满足需求，我要付多少钱，怎样付钱。
- 对方不关心各个方案的细节，如果需要可以放在附录中。

举例

| 修改前                                                       | 修改后                                                       |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 请看这是我们采集东南亚人种的结算清单。其中在云南采集供xxx人，base人数xxx人，清洗后人数xxx人。底库包含暗光...逆光...黑暗...室内正常光........worker包含暗光....逆光......黑暗......单人价格300元，单人底库价格100元，单人视频价格200元，第一部计算基数....总额xxx元，第二部扣款供扣除xxx原，结算总额xxxxx元。其中在北京采集....人，bae人数......(如上述又重复一次) | 东南亚人种采集情况如下：Date侧共清洗出xxx人，共支付费用yyy元，平均每人价格100元。立项时每人报价110元。请问：是否可以予以结算？ |

分析：需求方关心一共采集了多少人，一共花了多少钱，和计划相比是多花了还是少花了。



难点/好处：强迫作者从对方角度出发，考虑对方的利益点。

### 工作汇报

读者：上级、甲方、同事

目的：把进度、风险告知给上级和甲方，把经验分享给同事

写法：分两部分

1. 进度
   1. 简洁的量化指标
   2. 对照目标说明当前问题
   3. 对照问题给出解决方案
   4. 如果交付计划变更，应说明新的交付计划
2. 经验：当做一篇小论文来写
   1. 动机：为什么这样做
   2. 方法：怎么做的，应简明扼要易懂，不要堆砌细节
   3. 结果：效果如何
   4. 未来计划：接下来怎么做

难点/好处：强迫作者思考自己做事的逻辑是否通顺，常常能发现问题。

### 答复

读者：提问的人

目的：解决提问者的疑惑

写法：

- 搞清提问者字面上，和字面背后的问题，主动设想提问者的需求
- 针对问题给出答案

举例：提问“上传到武汉的速度怎样？”

| 修改前 | 修改后                                                       |
| :----- | :----------------------------------------------------------- |
| 7Mb/s  | 当前速度为7Mb/s，预计该速度稳定。预计到周五晚上可以上传完成本批数据。 |

分析：提问者询问上传速度，目的是希望知道上传任务的进度。



### 复盘

读者：上级，甲方，同伴

目的：梳理问题，搞清解决方案，以提升后续工作效率。

写法

1. 原定计划和完成情况分别是怎样的。
2. 搞清项目过程中遇到过哪些问题？凡是与计划不同的都可以称为问题
3. 当时是如何处理的：由谁、在何时、做了什么
4. 这样处理造成了怎样的结果？结果中哪些是由行动带来的，哪些是由好运气/坏运气带来的？
5. 这样处理合理吗？
6. 针对问题，下次怎样能处理得更好？以何种机制确保能处理得更好？
7. 针对问题，是否有奖惩措施？
8. 是否有补救措施？

举例：请对某数据采集交付延期进行复盘

| 修改前                                         | 修改后                                                       |
| :--------------------------------------------- | :----------------------------------------------------------- |
| 修改前                                         | 修改后                                                       |
| 原因已经找到，数据已经发出，预计于x月x日交付。 | 原定x月x日交付，现在延期至x月x日交付。在项目中，出现了两次寄送硬盘错误。其中第一次发生于xxx时间，由A同学执行，在寄送前B同学未进行检查，在上传后B同学未进行检查，第二次发生于xxx时间.....。在x月x日，由B同学发现此问题，重新邮寄。本次交付延期原因有二：1. 负责寄送同学未检查，2. 上传后项目经理未检查。后续解决方案：该类采集项目新增如下规则寄送硬盘时，现场执行同学拍摄寄送包裹内容，拍摄快递单号，并记录数据内容，在日报中通知项目经理上传时，负责上传同学在日报中通知项目经理补救措施：联系标注同学，提升标注优先级，保证模型发版。处罚措施：A、B两位同学绩效......。 |

### 求助/需求/报bug

读者：乙方

目的：获得支持或帮助

写法：参考brain++ support提交办法

1. 我做了什么
2. 我期望获得什么
3. 实际获得了什么
4. 我尝试了哪些解决方法
5. 这些解决方法有何种结果

举例：给蜂巢平台报bug

| 修改前   | 修改后                                                       |
| :------- | :----------------------------------------------------------- |
| 蜂巢挂了 | 我打开蜂巢后，在原来有上传进度的进度页面中，什么都没有了。我尝试退出账号重新登录、重启浏览器都没能解决。 |